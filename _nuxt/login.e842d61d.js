import{a7 as Ie,a8 as M,a9 as Oe,aa as le,L as ze,a3 as Ve,f as R,h as L,o as z,c as V,y as K,j as S,A as re,B as _e,z as ge,K as ie,E as C,r as O,X as ce,U as X,k as ue,ab as Ae,b as v,P as Ue,x as Le,O as De,W as Fe,ac as Ge,a0 as Me,a1 as We,ad as he,a6 as He,a as j,d as W,_ as ye,w as ae,n as ne,F as qe,G as Ke,p as je,e as Xe}from"./entry.a81ac358.js";import{u as Se}from"./fetch.6a35fa4c.js";import Ye from"./Icon.957532ea.js";import{c as D,d as Y,u as F,_ as de,l as Te,n as we,t as ve,P as Ce,Q as Je,R as Qe,E as H,U as Ze,V as et,k as tt,I as q,A as at,W as nt,X as Ne,M as be,Y as ot,Z as fe,H as st,J as lt}from"./index.da81fddc.js";import{c as I}from"./strings.103cd3c5.js";import{f as rt}from"./vnode.7eaf6329.js";import{_ as it}from"./nuxt-link.c5295f94.js";import"./config.830ebd48.js";const ct=(e,n={})=>{const{token:o,clear:u}=Ie(),t={baseURL:le().public.baseURL??"http://localhost:3002/uni-md/api",key:e,headers:o.value?{Authorization:`Bearer ${o.value}`}:{},onRequest(f){var m;console.log("[onReqyest] ",(m=f.options.method)==null?void 0:m.toUpperCase)},onRequestError(f){console.log("[onRequestError]",f.error)},onResponse(f){console.log("[onResponse]",f.response._data)},onResponseError(f){console.log("[onResponseError]",f.error),f.response.status===401&&(u(),M("/login"))}},a=Oe(n,t);return Se(e,a,"$nIfBrkE4uq")},oe=e=>ct("/auth/login",{method:"POST"}),ut=(e,n,o)=>rt(e.subTree).filter(t=>{var a;return Ve(t)&&((a=t.type)==null?void 0:a.name)===n&&!!t.component}).map(t=>t.component.uid).map(t=>o[t]).filter(t=>!!t),dt=(e,n)=>{const o={},u=ze([]);return{children:u,addChild:a=>{o[a.uid]=a,u.value=ut(e,n,o)},removeChild:a=>{delete o[a],u.value=u.value.filter(f=>f.uid!==a)}}},vt=D({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:Y(String),default:"solid"}}),pt=R({name:"ElDivider"}),bt=R({...pt,props:vt,setup(e){const n=e,o=F("divider"),u=L(()=>o.cssVar({"border-style":n.borderStyle}));return(l,t)=>(z(),V("div",{class:K([S(o).b(),S(o).m(l.direction)]),style:ge(S(u)),role:"separator"},[l.$slots.default&&l.direction!=="vertical"?(z(),V("div",{key:0,class:K([S(o).e("text"),S(o).is(l.contentPosition)])},[re(l.$slots,"default")],2)):_e("v-if",!0)],6))}});var ft=de(bt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const mt=Te(ft),J=Symbol("tabsRootContextKey"),_t=D({tabs:{type:Y(Array),default:()=>we([])}}),Ee="ElTabBar",gt=R({name:Ee}),ht=R({...gt,props:_t,setup(e,{expose:n}){const o=e,u=X(),l=ie(J);l||ve(Ee,"<el-tabs><el-tab-bar /></el-tabs>");const t=F("tabs"),a=C(),f=C(),m=()=>{let g=0,i=0;const p=["top","bottom"].includes(l.props.tabPosition)?"width":"height",r=p==="width"?"x":"y",E=r==="x"?"left":"top";return o.tabs.every(w=>{var d,s;const y=(s=(d=u.parent)==null?void 0:d.refs)==null?void 0:s[`tab-${w.uid}`];if(!y)return!1;if(!w.active)return!0;g=y[`offset${I(E)}`],i=y[`client${I(p)}`];const b=window.getComputedStyle(y);return p==="width"&&(o.tabs.length>1&&(i-=Number.parseFloat(b.paddingLeft)+Number.parseFloat(b.paddingRight)),g+=Number.parseFloat(b.paddingLeft)),!1}),{[p]:`${i}px`,transform:`translate${I(r)}(${g}px)`}},T=()=>f.value=m();return O(()=>o.tabs,async()=>{await ce(),T()},{immediate:!0}),Ce(a,()=>T()),n({ref:a,update:T}),(g,i)=>(z(),V("div",{ref_key:"barRef",ref:a,class:K([S(t).e("active-bar"),S(t).is(S(l).props.tabPosition)]),style:ge(f.value)},null,6))}});var yt=de(ht,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const St=D({panes:{type:Y(Array),default:()=>we([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Tt={tabClick:(e,n,o)=>o instanceof Event,tabRemove:(e,n)=>n instanceof Event},me="ElTabNav",wt=R({name:me,props:St,emits:Tt,setup(e,{expose:n,emit:o}){const u=X(),l=ie(J);l||ve(me,"<el-tabs><tab-nav /></el-tabs>");const t=F("tabs"),a=Je(),f=Qe(),m=C(),T=C(),g=C(),i=C(),p=C(!1),r=C(0),E=C(!1),w=C(!0),d=L(()=>["top","bottom"].includes(l.props.tabPosition)?"width":"height"),s=L(()=>({transform:`translate${d.value==="width"?"X":"Y"}(-${r.value}px)`})),y=()=>{if(!m.value)return;const _=m.value[`offset${I(d.value)}`],h=r.value;if(!h)return;const c=h>_?h-_:0;r.value=c},b=()=>{if(!m.value||!T.value)return;const _=T.value[`offset${I(d.value)}`],h=m.value[`offset${I(d.value)}`],c=r.value;if(_-c<=h)return;const k=_-c>h*2?c+h:_-h;r.value=k},A=async()=>{const _=T.value;if(!p.value||!g.value||!m.value||!_)return;await ce();const h=g.value.querySelector(".is-active");if(!h)return;const c=m.value,k=["top","bottom"].includes(l.props.tabPosition),P=h.getBoundingClientRect(),$=c.getBoundingClientRect(),B=k?_.offsetWidth-$.width:_.offsetHeight-$.height,x=r.value;let N=x;k?(P.left<$.left&&(N=x-($.left-P.left)),P.right>$.right&&(N=x+P.right-$.right)):(P.top<$.top&&(N=x-($.top-P.top)),P.bottom>$.bottom&&(N=x+(P.bottom-$.bottom))),N=Math.max(N,0),r.value=Math.min(N,B)},G=()=>{var _;if(!T.value||!m.value)return;e.stretch&&((_=i.value)==null||_.update());const h=T.value[`offset${I(d.value)}`],c=m.value[`offset${I(d.value)}`],k=r.value;c<h?(p.value=p.value||{},p.value.prev=k,p.value.next=k+c<h,h-k<c&&(r.value=h-c)):(p.value=!1,k>0&&(r.value=0))},Pe=_=>{const h=_.code,{up:c,down:k,left:P,right:$}=q;if(![c,k,P,$].includes(h))return;const B=Array.from(_.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),x=B.indexOf(_.target);let N;h===P||h===c?x===0?N=B.length-1:N=x-1:x<B.length-1?N=x+1:N=0,B[N].focus({preventScroll:!0}),B[N].click(),pe()},pe=()=>{w.value&&(E.value=!0)},Q=()=>E.value=!1;return O(a,_=>{_==="hidden"?w.value=!1:_==="visible"&&setTimeout(()=>w.value=!0,50)}),O(f,_=>{_?setTimeout(()=>w.value=!0,50):w.value=!1}),Ce(g,G),ue(()=>setTimeout(()=>A(),0)),Ae(()=>G()),n({scrollToActiveTab:A,removeFocus:Q}),O(()=>e.panes,()=>u.update(),{flush:"post",deep:!0}),()=>{const _=p.value?[v("span",{class:[t.e("nav-prev"),t.is("disabled",!p.value.prev)],onClick:y},[v(H,null,{default:()=>[v(Ze,null,null)]})]),v("span",{class:[t.e("nav-next"),t.is("disabled",!p.value.next)],onClick:b},[v(H,null,{default:()=>[v(et,null,null)]})])]:null,h=e.panes.map((c,k)=>{var P,$,B,x;const N=c.uid,Z=c.props.disabled,ee=($=(P=c.props.name)!=null?P:c.index)!=null?$:`${k}`,te=!Z&&(c.isClosable||e.editable);c.index=`${k}`;const xe=te?v(H,{class:"is-icon-close",onClick:U=>o("tabRemove",c,U)},{default:()=>[v(tt,null,null)]}):null,Re=((x=(B=c.slots).label)==null?void 0:x.call(B))||c.props.label,Be=!Z&&c.active?0:-1;return v("div",{ref:`tab-${N}`,class:[t.e("item"),t.is(l.props.tabPosition),t.is("active",c.active),t.is("disabled",Z),t.is("closable",te),t.is("focus",E.value)],id:`tab-${ee}`,key:`tab-${N}`,"aria-controls":`pane-${ee}`,role:"tab","aria-selected":c.active,tabindex:Be,onFocus:()=>pe(),onBlur:()=>Q(),onClick:U=>{Q(),o("tabClick",c,ee,U)},onKeydown:U=>{te&&(U.code===q.delete||U.code===q.backspace)&&o("tabRemove",c,U)}},[Re,xe])});return v("div",{ref:g,class:[t.e("nav-wrap"),t.is("scrollable",!!p.value),t.is(l.props.tabPosition)]},[_,v("div",{class:t.e("nav-scroll"),ref:m},[v("div",{class:[t.e("nav"),t.is(l.props.tabPosition),t.is("stretch",e.stretch&&["top","bottom"].includes(l.props.tabPosition))],ref:T,style:s.value,role:"tablist",onKeydown:Pe},[e.type?null:v(yt,{ref:i,tabs:[...e.panes]},null),h])])])}}}),Ct=D({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Y(Function),default:()=>!0},stretch:Boolean}),se=e=>Le(e)||ot(e),Nt={[Ne]:e=>se(e),tabClick:(e,n)=>n instanceof Event,tabChange:e=>se(e),edit:(e,n)=>["remove","add"].includes(n),tabRemove:e=>se(e),tabAdd:()=>!0};var Et=R({name:"ElTabs",props:Ct,emits:Nt,setup(e,{emit:n,slots:o,expose:u}){var l,t;const a=F("tabs"),{children:f,addChild:m,removeChild:T}=dt(X(),"ElTabPane"),g=C(),i=C((t=(l=e.modelValue)!=null?l:e.activeName)!=null?t:"0"),p=s=>{i.value=s,n(Ne,s),n("tabChange",s)},r=async s=>{var y,b,A;if(!(i.value===s||be(s)))try{await((y=e.beforeLeave)==null?void 0:y.call(e,s,i.value))!==!1&&(p(s),(A=(b=g.value)==null?void 0:b.removeFocus)==null||A.call(b))}catch{}},E=(s,y,b)=>{s.props.disabled||(r(y),n("tabClick",s,b))},w=(s,y)=>{s.props.disabled||be(s.props.name)||(y.stopPropagation(),n("edit",s.props.name,"remove"),n("tabRemove",s.props.name))},d=()=>{n("edit",void 0,"add"),n("tabAdd")};return at({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},L(()=>!!e.activeName)),O(()=>e.activeName,s=>r(s)),O(()=>e.modelValue,s=>r(s)),O(i,async()=>{var s;await ce(),(s=g.value)==null||s.scrollToActiveTab()}),Ue(J,{props:e,currentName:i,registerPane:m,unregisterPane:T}),u({currentName:i}),()=>{const s=e.editable||e.addable?v("span",{class:a.e("new-tab"),tabindex:"0",onClick:d,onKeydown:A=>{A.code===q.enter&&d()}},[v(H,{class:a.is("icon-plus")},{default:()=>[v(nt,null,null)]})]):null,y=v("div",{class:[a.e("header"),a.is(e.tabPosition)]},[s,v(wt,{ref:g,currentName:i.value,editable:e.editable,type:e.type,panes:f.value,stretch:e.stretch,onTabClick:E,onTabRemove:w},null)]),b=v("div",{class:a.e("content")},[re(o,"default")]);return v("div",{class:[a.b(),a.m(e.tabPosition),{[a.m("card")]:e.type==="card",[a.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[y,b]:[b,y]])}}});const $t=D({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),kt=["id","aria-hidden","aria-labelledby"],$e="ElTabPane",Pt=R({name:$e}),xt=R({...Pt,props:$t,setup(e){const n=e,o=X(),u=De(),l=ie(J);l||ve($e,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const t=F("tab-pane"),a=C(),f=L(()=>n.closable||l.props.closable),m=fe(()=>{var r;return l.currentName.value===((r=n.name)!=null?r:a.value)}),T=C(m.value),g=L(()=>{var r;return(r=n.name)!=null?r:a.value}),i=fe(()=>!n.lazy||T.value||m.value);O(m,r=>{r&&(T.value=!0)});const p=Fe({uid:o.uid,slots:u,props:n,paneName:g,active:m,index:a,isClosable:f});return ue(()=>{l.registerPane(p)}),Ge(()=>{l.unregisterPane(p.uid)}),(r,E)=>S(i)?Me((z(),V("div",{key:0,id:`pane-${S(g)}`,class:K(S(t).b()),role:"tabpanel","aria-hidden":!S(m),"aria-labelledby":`tab-${S(g)}`},[re(r.$slots,"default")],10,kt)),[[We,S(m)]]):_e("v-if",!0)}});var ke=de(xt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const Rt=Te(Et,{TabPane:ke}),Bt=st(ke),It=R({__name:"SignInWithGoogle",setup(e){const n=le(),o=C(),u=he(),l=He(),t=async a=>{var p,r,E,w;console.log(a,a.credential);const{data:f,pending:m,refresh:T,error:g,status:i}=await Se("http://localhost:3002/uni-md/api/auth/google",{method:"post",body:{credential:a.credential}},"$1WirO7jS7a");console.log("token",(r=(p=f.value)==null?void 0:p.data)==null?void 0:r.token),(E=f.value)!=null&&E.data&&u.login((w=f.value)==null?void 0:w.data),console.log(l.getRoutes())};return ue(()=>{google.accounts.id.initialize({client_id:n.public.GOOGLE_CLIENT_ID,callback:t,context:"signin"}),google.accounts.id.renderButton(o.value,{type:"standard",size:"large",text:"signin_with",theme:"filled_blue",shape:"pill",logo_alignment:"left",width:250}),google.accounts.id.prompt()}),(a,f)=>(z(),V("div",{id:"google-signin",ref_key:"googleSignInButton",ref:o},"Sign In With Google",512))}}),Ot=R({__name:"SignInWithGitHub",setup(e){const n=le();console.log(n);const o=`https://github.com/login/oauth/authorize?scope=user&client_id=${n.public.GITHUB_CLIENT_ID}&redirect_uri=${n.public.GITHUB_REDIRECT_URI}`;return(u,l)=>{const t=Ye;return z(),V("div",null,[j("a",{href:o},[v(t,{name:"uil:github"}),W(" Sign in with GitHub")])])}}});const zt=ye(Ot,[["__scopeId","data-v-6715a945"]]);const Vt=e=>(je("data-v-68bbfc64"),e=e(),Xe(),e),At={class:"login"},Ut=Vt(()=>j("div",{class:"title"},"uni-md",-1)),Lt={class:"create"},Dt=R({__name:"login",setup(e){const n=he(),o=["Username","Email","Phone"],u=C(o[0]),l=L(()=>u.value==="Username"?"text":u.value==="Email"?"email":"tel"),t=C(""),a=C(""),f=(g,i)=>{console.log(g.index,i)},m=()=>t.value.length&&a.value.length>=6,T=async()=>{var g,i,p,r,E,w;if(m())if(u.value=="Username"){const{data:d,pending:s,error:y,refresh:b}=await oe({type:"username",username:t.value,password:a.value});console.log((g=d.value)==null?void 0:g.data),((i=d.value)==null?void 0:i.code)===200&&d.value.message==="Success"&&(n.login({token:d.value.data}),M("/"))}else if(u.value=="Email"){const{data:d,pending:s,error:y,refresh:b}=await oe({type:"email",email:t.value,password:a.value});console.log((p=d.value)==null?void 0:p.data),((r=d.value)==null?void 0:r.code)===200&&d.value.message==="Success"&&(n.login({token:d.value.data}),M("/"))}else{const{data:d,pending:s,error:y,refresh:b}=await oe({type:"phone",phone:t.value,password:a.value});console.log((E=d.value)==null?void 0:E.data),((w=d.value)==null?void 0:w.code)===200&&d.value.message==="Success"&&(n.login({token:d.value.data}),M("/"))}};return(g,i)=>{const p=It,r=zt,E=mt,w=Bt,d=Rt,s=lt,y=it;return z(),V("div",At,[Ut,v(p),v(r),v(E,{"content-position":"center"},{default:ae(()=>[W("or")]),_:1}),v(d,{modelValue:S(u),"onUpdate:modelValue":i[0]||(i[0]=b=>ne(u)?u.value=b:null),class:"login-tabs",onTabClick:f},{default:ae(()=>[(z(),V(qe,null,Ke(o,b=>v(w,{key:b,label:b,name:b},null,8,["label","name"])),64))]),_:1},8,["modelValue"]),v(s,{modelValue:S(t),"onUpdate:modelValue":i[1]||(i[1]=b=>ne(t)?t.value=b:null),type:S(l),autocomplete:S(l),placeholder:S(u),clearable:""},null,8,["modelValue","type","autocomplete","placeholder"]),v(s,{modelValue:S(a),"onUpdate:modelValue":i[2]||(i[2]=b=>ne(a)?a.value=b:null),type:"password",placeholder:"Password",clearable:"","show-password":""},null,8,["modelValue"]),j("div",{class:"sign-in",onClick:T},"Sign in"),j("div",Lt,[W("or, "),v(y,{to:"/"},{default:ae(()=>[W("create an account")]),_:1})])])}}});const Xt=ye(Dt,[["__scopeId","data-v-68bbfc64"]]);export{Xt as default};
