import{r as D,f as O,g as F,h as b,i as B,j as E,k as m,l as R,m as $,n as M,q as P,s as A,v as z,x as H,y as L,o as T,c as U,a as x,t as k,F as j}from"./entry.62ced46c.js";const q=()=>null;function K(...o){const c=typeof o[o.length-1]=="string"?o.pop():void 0;typeof o[0]!="string"&&o.unshift(c);let[t,n,a={}]=o;if(typeof t!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof n!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");a.server=a.server??!0,a.default=a.default??q,a.lazy=a.lazy??!1,a.immediate=a.immediate??!0;const e=E(),y=()=>e.isHydrating?e.payload.data[t]:e.static.data[t],u=()=>y()!==void 0;e._asyncData[t]||(e._asyncData[t]={data:D(y()??a.default()),pending:D(!u()),error:O(e.payload._errors,t),status:D("idle")});const s={...e._asyncData[t]};s.refresh=s.execute=(i={})=>{if(e._asyncDataPromises[t]){if(i.dedupe===!1)return e._asyncDataPromises[t];e._asyncDataPromises[t].cancelled=!0}if((i._initial||e.isHydrating&&i._initial!==!1)&&u())return y();s.pending.value=!0,s.status.value="pending";const f=new Promise((r,l)=>{try{r(n(e))}catch(g){l(g)}}).then(r=>{if(f.cancelled)return e._asyncDataPromises[t];let l=r;a.transform&&(l=a.transform(r)),a.pick&&(l=N(l,a.pick)),s.data.value=l,s.error.value=null,s.status.value="success"}).catch(r=>{if(f.cancelled)return e._asyncDataPromises[t];s.error.value=r,s.data.value=m(a.default()),s.status.value="error"}).finally(()=>{f.cancelled||(s.pending.value=!1,e.payload.data[t]=s.data.value,s.error.value&&(e.payload._errors[t]=R(s.error.value)),delete e._asyncDataPromises[t])});return e._asyncDataPromises[t]=f,e._asyncDataPromises[t]};const p=()=>s.refresh({_initial:!0}),_=a.server!==!1&&e.payload.serverRendered;{const i=$();if(i&&!i._nuxtOnBeforeMountCbs){i._nuxtOnBeforeMountCbs=[];const r=i._nuxtOnBeforeMountCbs;i&&(F(()=>{r.forEach(l=>{l()}),r.splice(0,r.length)}),b(()=>r.splice(0,r.length)))}_&&e.isHydrating&&u()?(s.pending.value=!1,s.status.value=s.error.value?"error":"success"):i&&(e.payload.serverRendered&&e.isHydrating||a.lazy)&&a.immediate?i._nuxtOnBeforeMountCbs.push(p):a.immediate&&p(),a.watch&&B(a.watch,()=>s.refresh());const f=e.hook("app:data:refresh",r=>{if(!r||r.includes(t))return s.refresh()});i&&b(f)}const v=Promise.resolve(e._asyncDataPromises[t]).then(()=>s);return Object.assign(v,s),v}function N(o,c){const t={};for(const n of c)t[n]=o[n];return t}function S(o,c,t){const[n={},a]=typeof c=="string"?[{},c]:[c,t],e=n.key||M([a,m(n.baseURL),typeof o=="string"?o:"",m(n.params||n.query)]);if(!e||typeof e!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+e);if(!o)throw new Error("[nuxt] [useFetch] request is missing.");const y=e===a?"$f"+e:e,u=P(()=>{let h=o;return typeof h=="function"&&(h=h()),m(h)});if(!n.baseURL&&typeof u.value=="string"&&u.value.startsWith("//"))throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:s,lazy:p,default:_,transform:v,pick:i,watch:f,immediate:r,...l}=n,g=A({...l,cache:typeof n.cache=="boolean"?void 0:n.cache}),C={server:s,lazy:p,default:_,transform:v,pick:i,immediate:r,watch:f===!1?[]:[g,u,...f||[]]};let d;return K(y,()=>{var w;return(w=d==null?void 0:d.abort)==null||w.call(d),d=typeof AbortController<"u"?new AbortController:{},typeof u.value=="string"&&u.value.startsWith("/"),(n.$fetch||globalThis.$fetch)(u.value,{signal:d.signal,...g})},C)}const V=z({__name:"[id]",async setup(o){let c,t;const n=H(),a=P(()=>n.params.id),{data:e,pending:y,error:u,refresh:s}=([c,t]=L(()=>S("http://localhost:3002/uni-md",{query:{id:a}},"$rDcwM2FyXL")),c=await c,t(),c);return console.log("id:",n.params.id),(p,_)=>(T(),U(j,null,[x("p",null,k(p.$route.params.id),1),x("div",null,k(m(e)),1)],64))}});export{V as default};
